(this["webpackJsonprox-flags-management"]=this["webpackJsonprox-flags-management"]||[]).push([[0],{12:function(t,e,a){},13:function(t,e,a){},15:function(t,e,a){"use strict";a.r(e);var n=a(1),c=a.n(n),o=a(6),i=a.n(o),l=(a(12),a(7)),s=a(3),r=(a(13),a(0));var u=function(){var t=Object(n.useState)(""),e=Object(s.a)(t,2),a=e[0],c=e[1],o=Object(n.useState)(""),i=Object(s.a)(o,2),u=i[0],h=i[1],p=Object(n.useState)(""),j=Object(s.a)(p,2),d=j[0],b=j[1],f=Object(n.useState)(null),m=Object(s.a)(f,2),x=m[0],g=m[1],O=function(t,e){switch(e){case"auth":return c(t.target.value);case"appId":return h(t.target.value);case"envName":return b(t.target.value);default:return}};return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("h1",{children:"Rox flags management dashboard"}),Object(r.jsxs)("div",{className:"getFlags",children:[Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"text",name:"auth",onChange:function(t){return O(t,"auth")}}),Object(r.jsx)("span",{children:"authorization"})]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"text",name:"appId",onChange:function(t){return O(t,"appId")}}),Object(r.jsx)("span",{children:"applicationId"})]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"text",name:"envName",onChange:function(t){return O(t,"envName")}}),Object(r.jsx)("span",{children:"environmentName"})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{onClick:function(){fetch("https://x-api.rollout.io/public-api/applications/".concat(u,"/").concat(d,"/flags"),{method:"GET",headers:{accept:"application/json",authorization:"Bearer ".concat(a)}}).then((function(t){g(Object(l.a)(t))})).catch((function(t){console.log(t)}))},className:"showAllButton",children:"show all flags"})}),x?x.map((function(t){return Object(r.jsx)("div",{className:"flags",children:Object(r.jsxs)("div",{className:"flagGroup",children:[Object(r.jsx)("div",{className:"flag",children:t.name}),Object(r.jsx)("button",{className:"removeFlag",onClick:function(){return e=t.name,void fetch("https://x-api.rollout.io/public-api/applications/".concat(u,"/flags/").concat(e),{method:"DELETE",headers:{authorization:"Bearer ".concat(a)}}).then((function(){console.log("flag ".concat(e," removed")),fetch("https://x-api.rollout.io/public-api/applications/".concat(u,"/").concat(d,"/flags"),{method:"GET",headers:{accept:"application/json",authorization:"Bearer ".concat(a)}}).then((function(t){g(t)}))})).catch((function(t){console.log(t)}));var e},children:"remove"})]})})})):null,Object(r.jsx)("div",{className:"remove",children:Object(r.jsx)("button",{onClick:function(){x&&(x.filter((function(t){return t.name.includes(".")})).forEach((function(t){fetch("https://x-api.rollout.io/public-api/applications/".concat(u,"/flags/").concat(t.name),{method:"DELETE",headers:{authorization:"Bearer ".concat(a)}}).then((function(){console.log("flag ".concat(t.name," removed"))}))})),fetch("https://x-api.rollout.io/public-api/applications/".concat(u,"/").concat(d,"/flags"),{method:"GET",headers:{accept:"application/json",authorization:"Bearer ".concat(a)}}).then((function(t){g(t)})))},children:"remove all flags with non-blank namespace"})})]})]})};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(u,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.049ddb53.chunk.js.map