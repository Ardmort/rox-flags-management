(this["webpackJsonprox-flags-management"]=this["webpackJsonprox-flags-management"]||[]).push([[0],{10:function(t,e,a){},12:function(t,e,a){"use strict";a.r(e);var n=a(1),c=a.n(n),o=a(4),i=a.n(o),l=(a(9),a(2)),s=(a(10),a(0));var r=function(){var t=Object(n.useState)(""),e=Object(l.a)(t,2),a=e[0],c=e[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),r=i[0],u=i[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),j=p[0],d=p[1],b=Object(n.useState)(null),f=Object(l.a)(b,2),m=f[0],x=f[1],g=function(t,e){switch(e){case"auth":return c(t.target.value);case"appId":return u(t.target.value);case"envName":return d(t.target.value);default:return}};return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("h1",{children:"Rox flags management dashboard"}),Object(s.jsxs)("div",{className:"getFlags",children:[Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"text",name:"auth",onChange:function(t){return g(t,"auth")}}),Object(s.jsx)("span",{children:"authorization"})]}),Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"text",name:"appId",onChange:function(t){return g(t,"appId")}}),Object(s.jsx)("span",{children:"applicationId"})]}),Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"text",name:"envName",onChange:function(t){return g(t,"envName")}}),Object(s.jsx)("span",{children:"environmentName"})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{onClick:function(){fetch("https://x-api.rollout.io/public-api/applications/".concat(r,"/").concat(j,"/flags"),{method:"GET",headers:{accept:"application/json",authorization:"Bearer ".concat(a)}}).then((function(t){x(t)})).catch((function(t){console.log(t)}))},className:"showAllButton",children:"show all flags"})}),m?m.map((function(t){return Object(s.jsx)("div",{className:"flags",children:Object(s.jsxs)("div",{className:"flagGroup",children:[Object(s.jsx)("div",{className:"flag",children:t.name}),Object(s.jsx)("button",{className:"removeFlag",onClick:function(){return e=t.name,void fetch("https://x-api.rollout.io/public-api/applications/".concat(r,"/flags/").concat(e),{method:"DELETE",headers:{authorization:"Bearer ".concat(a)}}).then((function(){console.log("flag ".concat(e," removed")),fetch("https://x-api.rollout.io/public-api/applications/".concat(r,"/").concat(j,"/flags"),{method:"GET",headers:{accept:"application/json",authorization:"Bearer ".concat(a)}}).then((function(t){x(t)}))})).catch((function(t){console.log(t)}));var e},children:"remove"})]})})})):null,Object(s.jsx)("div",{className:"remove",children:Object(s.jsx)("button",{onClick:function(){m&&(m.filter((function(t){return t.name.includes(".")})).forEach((function(t){fetch("https://x-api.rollout.io/public-api/applications/".concat(r,"/flags/").concat(t.name),{method:"DELETE",headers:{authorization:"Bearer ".concat(a)}}).then((function(){console.log("flag ".concat(t.name," removed"))}))})),fetch("https://x-api.rollout.io/public-api/applications/".concat(r,"/").concat(j,"/flags"),{method:"GET",headers:{accept:"application/json",authorization:"Bearer ".concat(a)}}).then((function(t){x(t)})))},children:"remove all flags with non-blank namespace"})})]})]})};i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(r,{})}),document.getElementById("root"))},9:function(t,e,a){}},[[12,1,2]]]);
//# sourceMappingURL=main.103b01cd.chunk.js.map