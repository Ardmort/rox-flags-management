(this["webpackJsonprox-flags-management"]=this["webpackJsonprox-flags-management"]||[]).push([[0],{10:function(t,e,n){},12:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),o=n(4),i=n.n(o),s=(n(9),n(2)),l=(n(10),n(0));var r=function(){var t=Object(a.useState)(""),e=Object(s.a)(t,2),n=e[0],c=e[1],o=Object(a.useState)(""),i=Object(s.a)(o,2),r=i[0],u=i[1],h=Object(a.useState)(""),p=Object(s.a)(h,2),j=p[0],b=p[1],d=Object(a.useState)([]),m=Object(s.a)(d,2),f=m[0],x=m[1],O=function(t,e){switch(e){case"auth":return c(t.target.value);case"appId":return u(t.target.value);case"envName":return b(t.target.value);default:return}};return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h1",{children:"Rox flags management dashboard"}),Object(l.jsxs)("div",{className:"getFlags",children:[Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{type:"text",name:"auth",onChange:function(t){return O(t,"auth")}}),Object(l.jsx)("span",{children:"authorization"})]}),Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{type:"text",name:"appId",onChange:function(t){return O(t,"appId")}}),Object(l.jsx)("span",{children:"applicationId"})]}),Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{type:"text",name:"envName",onChange:function(t){return O(t,"envName")}}),Object(l.jsx)("span",{children:"environmentName"})]}),Object(l.jsx)("button",{onClick:function(){fetch("https://x-api.rollout.io/public-api/applications/".concat(r,"/").concat(j,"/flags"),{method:"GET",headers:{accept:"application/json",authorization:n}}).then((function(t){console.log(t),x(t)}))},className:"showAllButton",children:"show all flags"}),f.length?f.map((function(t){return Object(l.jsx)("div",{children:t.name})})):null,Object(l.jsx)("div",{className:"remove",children:Object(l.jsx)("button",{onClick:function(){f.filter((function(t){return t.name.includes(".")})).forEach((function(t){fetch("https://x-api.rollout.io/public-api/applications/".concat(r,"/flags/").concat(t.name),{method:"DELETE",headers:{authorization:n}}).then((function(){console.log("flag ".concat(t.name," removed"))}))})),fetch("https://x-api.rollout.io/public-api/applications/".concat(r,"/").concat(j,"/flags"),{method:"GET",headers:{accept:"application/json",authorization:n}}).then((function(t){x(t)}))},children:"remove all flags with non-blank namespace"})})]})]})};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(r,{})}),document.getElementById("root"))},9:function(t,e,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.1b2a2ce6.chunk.js.map