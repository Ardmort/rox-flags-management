(this["webpackJsonprox-flags-management"]=this["webpackJsonprox-flags-management"]||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(4),i=n.n(o),s=(n(9),n(2)),l=(n(10),n(0));var r=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),i=Object(s.a)(o,2),r=i[0],u=i[1],h=Object(a.useState)(""),p=Object(s.a)(h,2),j=p[0],b=p[1],d=Object(a.useState)([]),m=Object(s.a)(d,2),f=m[0],x=m[1],O=function(e,t){switch(t){case"auth":return c(e.target.value);case"appId":return u(e.target.value);case"envName":return b(e.target.value);default:return}};return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h1",{children:"Rox flags management dashboard"}),Object(l.jsxs)("div",{className:"getFlags",children:[Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{type:"text",name:"auth",onChange:function(e){return O(e,"auth")}}),Object(l.jsx)("span",{children:"authorization"})]}),Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{type:"text",name:"appId",onChange:function(e){return O(e,"appId")}}),Object(l.jsx)("span",{children:"applicationId"})]}),Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{type:"text",name:"envName",onChange:function(e){return O(e,"envName")}}),Object(l.jsx)("span",{children:"environmentName"})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:function(){fetch("https://x-api.rollout.io/public-api/applications/".concat(r,"/").concat(j,"/flags"),{method:"GET",headers:{accept:"application/json",authorization:"Bearer ".concat(n)}}).then((function(e){console.log(e),x(e)}))},className:"showAllButton",children:"show all flags"})}),f.length?f.map((function(e){return Object(l.jsx)("div",{children:e.name})})):null,Object(l.jsx)("div",{className:"remove",children:Object(l.jsx)("button",{onClick:function(){f.filter((function(e){return e.name.includes(".")})).forEach((function(e){fetch("https://x-api.rollout.io/public-api/applications/".concat(r,"/flags/").concat(e.name),{method:"DELETE",headers:{authorization:"Bearer ".concat(n)}}).then((function(){console.log("flag ".concat(e.name," removed"))}))})),fetch("https://x-api.rollout.io/public-api/applications/".concat(r,"/").concat(j,"/flags"),{method:"GET",headers:{accept:"application/json",authorization:"Bearer ".concat(n)}}).then((function(e){x(e)}))},children:"remove all flags with non-blank namespace"})})]})]})};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(r,{})}),document.getElementById("root"))},9:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.72544398.chunk.js.map