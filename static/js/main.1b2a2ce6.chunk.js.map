{"version":3,"sources":["App.js","index.js"],"names":["App","useState","auth","setAuth","applicationId","setApplicationId","environmentName","setEnvironmentName","allFlags","setAllFlags","handleChange","event","type","target","value","className","name","onChange","onClick","fetch","method","headers","accept","authorization","then","res","console","log","length","map","flag","filter","includes","forEach","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gOA0GeA,MAvGf,WAAgB,IAAD,EACWC,mBAAS,IADpB,mBACNC,EADM,KACAC,EADA,OAE6BF,mBAAS,IAFtC,mBAENG,EAFM,KAESC,EAFT,OAGiCJ,mBAAS,IAH1C,mBAGNK,EAHM,KAGWC,EAHX,OAImBN,mBAAS,IAJ5B,mBAINO,EAJM,KAIIC,EAJJ,KAkDPC,EAAe,SAACC,EAAOC,GAC3B,OAAQA,GACN,IAAK,OACH,OAAOT,EAAQQ,EAAME,OAAOC,OAC9B,IAAK,QACH,OAAOT,EAAiBM,EAAME,OAAOC,OACvC,IAAK,UACH,OAAOP,EAAmBI,EAAME,OAAOC,OACzC,QACE,SAIN,OACE,sBAAKC,UAAU,MAAf,UACE,gEACA,sBAAKA,UAAW,WAAhB,UACE,kCACE,uBACEH,KAAK,OACLI,KAAM,OACNC,SAAU,SAACN,GAAD,OAAWD,EAAaC,EAAO,WAE3C,oDAEF,kCACE,uBACEC,KAAK,OACLI,KAAM,QACNC,SAAU,SAACN,GAAD,OAAWD,EAAaC,EAAO,YAE3C,oDAEF,kCACE,uBACEC,KAAK,OACLI,KAAM,UACNC,SAAU,SAACN,GAAD,OAAWD,EAAaC,EAAO,cAE3C,sDAGF,wBAAQO,QAtFQ,WACpBC,MAAM,oDAAD,OACiDf,EADjD,YACkEE,EADlE,UAEH,CACEc,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cAAerB,KAGnBsB,MAAK,SAACC,GACNC,QAAQC,IAAIF,GACZhB,EAAYgB,OA0EsBV,UAAW,gBAA3C,4BAECP,EAASoB,OAASpB,EAASqB,KAAI,SAACC,GAAD,OAAU,8BAAMA,EAAKd,UAAe,KACpE,qBAAKD,UAAW,SAAhB,SACE,wBAAQG,QA1EiB,WACZV,EAASuB,QAAO,SAAAD,GAAI,OAAIA,EAAKd,KAAKgB,SAAS,QAEjDC,SAAQ,SAAAH,GACnBX,MAAM,oDAAD,OAAqDf,EAArD,kBAA4E0B,EAAKd,MAAQ,CAC5FI,OAAQ,SACRC,QAAS,CACPE,cAAerB,KAEhBsB,MAAK,WACNE,QAAQC,IAAR,eAAoBG,EAAKd,KAAzB,mBAGJG,MAAM,oDAAD,OACmDf,EADnD,YACoEE,EADpE,UAED,CACEc,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cAAerB,KAGrBsB,MAAK,SAACC,GACNhB,EAAYgB,OAmDR,gEC9FVS,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.1b2a2ce6.chunk.js","sourcesContent":["import \"./App.css\";\nimport { useState } from \"react\";\n\nfunction App() {\n  const [auth, setAuth] = useState(\"\");\n  const [applicationId, setApplicationId] = useState(\"\");\n  const [environmentName, setEnvironmentName] = useState(\"\");\n  const [allFlags, setAllFlags] = useState([]);\n\n  const handleShowAll = () => {\n    fetch(\n      `https://x-api.rollout.io/public-api/applications/${applicationId}/${environmentName}/flags`,\n      {\n        method: \"GET\",\n        headers: {\n          accept: \"application/json\",\n          authorization: auth,\n        },\n      }\n    ).then((res) => {\n      console.log(res);\n      setAllFlags(res);\n    });\n  };\n\n  const handleRemoveNonOriginals = () => {\n    let nonOriginals = allFlags.filter(flag => flag.name.includes('.'))\n\n    nonOriginals.forEach(flag => {\n      fetch(`https://x-api.rollout.io/public-api/applications/${applicationId}/flags/${flag.name}`, {\n        method: \"DELETE\",\n        headers: {\n          authorization: auth,\n        },\n      }).then(() => {\n        console.log(`flag ${flag.name} removed`)})\n    })\n\n    fetch(\n        `https://x-api.rollout.io/public-api/applications/${applicationId}/${environmentName}/flags`,\n        {\n          method: \"GET\",\n          headers: {\n            accept: \"application/json\",\n            authorization: auth,\n          },\n        }\n    ).then((res) => {\n      setAllFlags(res);\n    });\n\n  }\n\n  const handleChange = (event, type) => {\n    switch (type) {\n      case \"auth\":\n        return setAuth(event.target.value);\n      case \"appId\":\n        return setApplicationId(event.target.value);\n      case \"envName\":\n        return setEnvironmentName(event.target.value);\n      default:\n        return;\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Rox flags management dashboard</h1>\n      <div className={\"getFlags\"}>\n        <label>\n          <input\n            type=\"text\"\n            name={\"auth\"}\n            onChange={(event) => handleChange(event, \"auth\")}\n          />\n          <span>authorization</span>\n        </label>\n        <label>\n          <input\n            type=\"text\"\n            name={\"appId\"}\n            onChange={(event) => handleChange(event, \"appId\")}\n          />\n          <span>applicationId</span>\n        </label>\n        <label>\n          <input\n            type=\"text\"\n            name={\"envName\"}\n            onChange={(event) => handleChange(event, \"envName\")}\n          />\n          <span>environmentName</span>\n        </label>\n\n        <button onClick={handleShowAll} className={'showAllButton'}>show all flags</button>\n\n        {allFlags.length ? allFlags.map((flag) => <div>{flag.name}</div>) : null}\n        <div className={'remove'}>\n          <button onClick={handleRemoveNonOriginals}>remove all flags with non-blank namespace</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}